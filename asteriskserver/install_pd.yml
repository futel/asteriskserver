- name: unpack pd
  unarchive:
    src: src/pd-0.47-0.src.tar.gz
    dest: /tmp
- name: configure pd
  command: sh autogen.sh
  args:
    chdir: /tmp/pd-0.47-0
- name: configure pd
  command: ./configure --enable-jack
  args:
    chdir: /tmp/pd-0.47-0
- name: make pd
  command: make
  args:
    chdir: /tmp/pd-0.47-0
- name: install pd
  command: make install
  args:
    chdir: /tmp/pd-0.47-0
- name: install init script
  copy:
    src: src/pd-init-script
    dest: /etc/init.d/pd
    owner: root
    group: root
    mode: 0755
- name: symlink init script for startup
  file:
    src: /etc/init.d/pd
    dest: /etc/rc3.d/S92pd
    owner: root
    group: root
    state: link
